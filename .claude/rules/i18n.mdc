---
description: Mandatory internationalization rule - automatically translate all new UI text to Portuguese using next-intl
globs:
  - "messages/*.json"
  - "**/*.{ts,tsx}"
alwaysApply: true
---

# Internationalization (i18n) Rule

## üö® MANDATORY - NEVER SKIP THIS STEP üö®

### Rule 1: NO HARD-CODED TEXT IN UI

**NEVER** use hard-coded text strings in any component, page, or UI element. ALL user-facing text MUST use translations.

‚ùå **WRONG:**
```tsx
<Button>Save Changes</Button>
<p>Loading...</p>
<h1>Dashboard</h1>
```

‚úÖ **CORRECT:**
```tsx
// Client Component
'use client';
import { useTranslations } from 'next-intl';

const t = useTranslations('common');
<Button>{t('saveChanges')}</Button>
<p>{t('loading')}</p>

// Server Component
import { getTranslations } from 'next-intl/server';

const t = await getTranslations('dashboard');
<h1>{t('title')}</h1>
```

### Rule 2: IMMEDIATE TRANSLATION SYNCHRONIZATION

**CRITICAL:** When adding ANY new translation key to `messages/en.json`, you MUST **in the same response**:

1. Add the English key to `messages/en.json`
2. **IMMEDIATELY** add the Portuguese translation to `messages/pt.json`
3. Use BOTH the Edit tool calls in a **single message** (parallel execution)

This is NOT optional. Do not proceed to the next step until both files are updated.

## Translation Guidelines

- Keep translations natural and contextually appropriate
- Maintain consistent terminology across all languages
- Use proper gender/plural forms where applicable
- Test placeholder interpolation works in all languages
- For Portuguese: Use Brazilian Portuguese conventions
- Match the business/M&A terminology accurately in both languages

## Supported Languages & Routes

- `en` - English (primary) - `/en/*`
- `pt` - Portuguese (Brazilian) - `/pt/*`

## Implementation

When adding any new UI text:

1. Add the English key to `messages/en.json`
2. Immediately add Portuguese translation to `messages/pt.json`
3. Use the `useTranslations` hook from next-intl in Client Components
4. Use `getTranslations` from next-intl in Server Components

## Organization

Organize translations by feature area:
```json
{
  "auth": { "login": "Sign In", "verify": "Verify Email", ... },
  "groups": { "create": "Create Group", "join": "Join Group", ... },
  "participants": { "name": "Name", "email": "Email", ... },
  "lottery": { "run": "Run Lottery", "reveal": "Reveal Assignment", ... },
  "common": { "save": "Save", "cancel": "Cancel", ... }
}
```

## Date Formatting

- Date Format: Localized using `Intl.DateTimeFormat` or date library with locale support
- Numbers: Use proper thousands separator (, for EN, . for PT-BR)
