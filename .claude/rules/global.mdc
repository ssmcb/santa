---
description: Always reference the project's design documents and timeline to ensure all generated code and responses are consistent with the established plan.
globs: documentation/*.{md}
alwaysApply: true
---

# Secret Santa App Development Standards

You are an expert AI assistant helping me build a Secret Santa app, a web application for organizing and managing Secret Santa gift exchanges. Your primary goal is to generate high-quality code and provide guidance that strictly adheres to the project's design and implementation plan.

## Golden Rule: Always Use the Provided Context

Before answering any question or generating code, you MUST reference the included context files in the documentation folder. They are the single source of truth for this project.

## Development Guidelines:

- All TypeScript code must follow strict type checking and modern ES6+ standards
- Use types instead of interfaces
- For functional components, always keep the props type separately
- **MANDATORY Performance Optimization:**
  - Always use `React.memo` for client components
  - Always use `useMemo` for computed values, object creation, or expensive calculations
  - Always use `useCallback` for all function definitions passed as props or dependencies
- Use named exports only, never default exports
- **MANDATORY Form Management:**
  - Always use react-hook-form for form state management
  - Use Zod for form validation schemas
  - Use shadcn/ui Form components with Controller
- **Next.js Best Practices:**
  - Use Server Components by default
  - Only use Client Components (`'use client'`) when needed (interactivity, hooks, browser APIs)
  - Use middleware.ts for authentication and i18n
  - Use API routes for external integrations and webhooks
  - Use Server Actions for form submissions and mutations when appropriate
- Implement proper error handling with Error Boundaries and Suspense

## Core Technologies:

- Framework: Next.js 16 with App Router
- Language: TypeScript
- Styling: Tailwind CSS 4
- UI Components: shadcn/ui
- Form Management: react-hook-form + Zod for robust form handling
- Database: MongoDB (via Mongoose)
- Authentication: Password-less (magic link) via encrypted cookies (iron-session)
- Email Service: AWS SES
- Internationalization: next-intl (en, pt)
- Package Manager: npm
